(this["webpackJsonpreact-draft-js-demo"]=this["webpackJsonpreact-draft-js-demo"]||[]).push([[0],{202:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n(9),r=n(11),l=n(10),c=n(1),i=n.n(c),s=n(6),u=(n(39),n(17)),d=n(89),h=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).handleDomEvent=function(e){var t=o.state.logs.slice();t.unshift(e.type),o.setState({logs:t})},o._icon=e._icon?e._icon:void 0,e._onClick&&(o.handleDomEvent=e._onClick),e._text&&(o._text=e._text),o.state={logs:[]},o}return Object(o.a)(n,[{key:"render",value:function(){return[i.a.createElement(d.a,{onClick:this.handleDomEvent,onMouseDown:this.handleDomEvent,onMouseUp:this.handleDomEvent,onFocus:this.handleDomEvent,onBlur:this.handleDomEvent,onKeyPress:this.handleDomEvent,icon:this._icon},this._text)]}}]),n}(i.a.Component),g=n(88),m=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).handleDomEvent=function(e){var t=o.state.logs.slice();t.unshift(e.type),o.setState({logs:t})},o._onChange=e._onChange?e._onChange:void 0,o.state={logs:[]},o}return Object(o.a)(n,[{key:"render",value:function(){return[i.a.createElement(g.a,{onChange:this._onChange,style:{width:"350px",color:"white"}})]}}]),n}(i.a.Component),f=n(7),y=(c.Component,function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this))._changed=function(t){e._value=t.target.value},e._value="",e._downlaod=e._downlaod.bind(Object(u.a)(e)),e}return Object(o.a)(n,[{key:"_downlaod",value:function(){this._value;var e={fname:this._value};fetch("http://creepyfuck.tech/down?"+function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(e),{method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"side-padding-20"},i.a.createElement(m,{_onChange:this._changed}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(h,{_onClick:this._downlaod,_text:"Download"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("a",{href:"http://creepyfuck.tech/Manga/"},i.a.createElement("img",{src:"/comic.png",height:"50px"}))),i.a.createElement("br",null),i.a.createElement("div",null))}}]),n}(c.Component)),b=(n(193),n(87)),v=n.n(b),E=f.KeyBindingUtil.hasCommandModifier;function p(e){return 83===e.keyCode&&E(e)?"myeditor-save":Object(f.getDefaultKeyBinding)(e)}var _=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).onChange=function(e){var t=e.getCurrentContent();o.saveContent(t),o.setState({editorState:e})},o.saveContent=v()((function(e){window.localStorage.setItem("content",JSON.stringify(Object(f.convertToRaw)(e)))}),1e3),o._getLengthOfSelectedText=function(){console.log("say");var e=o.state.editorState.getSelection(),t=0;if(!e.isCollapsed()){var n=o.state.editorState.getCurrentContent(),a=e.getStartKey(),r=e.getEndKey(),l=(e.getIsBackward(),n.getBlockMap(),n.getBlockForKey(a)),c=n.getBlockForKey(r),i=a===r,s=l.getLength(),u=(c.getLength(),s-e.getStartOffset()),d=e.getEndOffset(),h=n.getKeyAfter(r);if(i)t+=e.getEndOffset()-e.getStartOffset();else for(var g=a;g&&g!==h;)t+=g===a?u+1:g===r?d:n.getBlockForKey(g).getLength()+1,g=n.getKeyAfter(g)}return t},o._handleBeforeInput=function(){if(console.log("hello"),o.state.editorState.getCurrentContent().getPlainText("").length>9)return console.log("you can type max ten characters"),"handled"},o._handlePastedText=function(e){var t=o.state.editorState.getCurrentContent().getPlainText("").length,n=o._getLengthOfSelectedText();if(t+e.length-n>10)return console.log("you can type max ten characters"),"handled"},e.my_func&&(o.my_func=e.my_func),console.log(e.raw_state),e.raw_state?(console.log("Raw State Prop present",e.raw_state),o.state={editorState:f.EditorState.createWithContent(Object(f.convertFromRaw)(JSON.parse(e.raw_state)))}):o.state={editorState:f.EditorState.createEmpty()},o.onChange=o.onChange.bind(Object(u.a)(o)),o._getLengthOfSelectedText=o._getLengthOfSelectedText.bind(Object(u.a)(o)),o._handleBeforeInput=o._handleBeforeInput.bind(Object(u.a)(o)),o.focus=function(){return o.refs.editor.focus()},o.handleKeyCommand=o.handleKeyCommand.bind(Object(u.a)(o)),o.onTab=function(e){return o._onTab(e)},o.toggleBlockType=function(e){return o._toggleBlockType(e)},o.toggleInlineStyle=function(e){return o._toggleInlineStyle(e)},o}return Object(o.a)(n,[{key:"set_editor",value:function(e){this.setState({editorState:f.EditorState.createWithContent(Object(f.convertFromRaw)(JSON.parse(e)))})}},{key:"my_func",value:function(){console.log("My Function is Running")}},{key:"handleKeyCommand",value:function(e){if("myeditor-save"===e){var t=Object(f.convertToRaw)(this.state.editorState.getCurrentContent());Object(f.convertFromRaw)(t);return this.my_func(JSON.stringify(t)),console.log("saved",t),"handled"}return"not-handled"}},{key:"_handleKeyCommand",value:function(e){var t=this.state.editorState,n=f.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_onTab",value:function(e){this.onChange(f.RichUtils.onTab(e,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(e){this.onChange(f.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){if("SAVE"==e){var t=Object(f.convertToRaw)(this.state.editorState.getCurrentContent());this.my_func(JSON.stringify(t))}else this.onChange(f.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this.state.editorState,t="RichEditor-editor",n=e.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(t+=" RichEditor-hidePlaceholder"),this.state.editorState?i.a.createElement("div",null,i.a.createElement("div",{className:"RichEditor-root"},i.a.createElement(k,{editorState:e,onToggle:this.toggleBlockType}),i.a.createElement(w,{editorState:e,onToggle:this.toggleInlineStyle}),i.a.createElement("div",{className:t,style:{backgroundColor:"white"},onClick:this.focus},i.a.createElement(f.Editor,{blockStyleFn:O,customStyleMap:C,editorState:e,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,placeholder:"Tell a story...",keyBindingFn:p,ref:"editor",spellCheck:!0,my_func:this.my_func})))):i.a.createElement("h3",{className:"loading"},"Loading...")}}]),n}(i.a.Component),C={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:12,padding:1}};function O(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var S=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(o.a)(n,[{key:"render",value:function(){var e="RichEditor-styleButton ui button";return this.props.active&&(e+=" RichEditor-activeButton"),i.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),n}(i.a.Component),j=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],k=function(e){var t=e.editorState,n=t.getSelection(),a=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return i.a.createElement("div",{className:"RichEditor-controls"},j.map((function(t){return i.a.createElement(S,{key:t.label,active:t.style===a,label:t.label,onToggle:e.onToggle,style:t.style})})))},T=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"},{label:"Save",style:"SAVE"}],w=function(e){var t=e.editorState.getCurrentInlineStyle();return i.a.createElement("div",{className:"RichEditor-controls"},T.map((function(n){return i.a.createElement(S,{key:n.label,active:t.has(n.style),label:n.label,onToggle:e.onToggle,style:n.style})})))},B=_,R=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n),(e=t.call(this)).raw_state="";return fetch("/react/content",{method:"GET"}).then((function(e){return e.json()})).then((function(t){t.raw_state&&e.myRef.current.set_editor(t.raw_state)})).catch((function(e){console.error("Error:",e)})),e.state={name:"React"},e.myRef=i.a.createRef(),e}return Object(o.a)(n,[{key:"saving_function",value:function(e){var t={raw_state:e};fetch("/react/content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"side-padding-20"},i.a.createElement(B,{my_func:this.saving_function,editorState:this.state.editorState,raw_state:this.raw_state,onChange:this.onChange,handleBeforeInput:this._handleBeforeInput,handlePastedText:this._handlePastedText,ref:this.myRef})),i.a.createElement("br",null),i.a.createElement("div",null))}}]),n}(c.Component),I=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this)}return Object(o.a)(n,[{key:"_manga",value:function(){Object(s.render)(i.a.createElement(y,null),document.getElementById("root"))}},{key:"_editor",value:function(){Object(s.render)(i.a.createElement(R,null),document.getElementById("root"))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"side-padding-20"},i.a.createElement(h,{_onClick:this._manga,_text:"Manga Downloader"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(h,{_onClick:this._editor,_text:"Editor"})),i.a.createElement("br",null),i.a.createElement("div",null))}}]),n}(c.Component),x=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this)}return Object(o.a)(n,[{key:"_back",value:function(){Object(s.render)(i.a.createElement(I,null),document.getElementById("root"))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"side-padding-20"},i.a.createElement(h,{_onClick:this._back,_icon:"undo"})),i.a.createElement("br",null),i.a.createElement("div",null))}}]),n}(c.Component),D=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.call(this)}return Object(o.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"side-padding-20"},i.a.createElement("img",{src:"/nature.png",height:"100px"})))}}]),n}(c.Component);Object(s.render)([i.a.createElement(D,null)],document.getElementById("head")),Object(s.render)([i.a.createElement(I,null)],document.getElementById("root")),Object(s.render)([i.a.createElement(x,null)],document.getElementById("base"))},39:function(e,t,n){},90:function(e,t,n){e.exports=n(202)}},[[90,1,2]]]);
//# sourceMappingURL=main.4acadcbc.chunk.js.map